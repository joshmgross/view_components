<%= render Primer::BaseComponent.new(**@system_arguments, classes: @form_group_classes ) do %>
    <label for="<%= @input_id %>" class="FormControl-label <%= @visually_hide_label %>">
        <%= @label_text %>
    </label>
    <% if leading_visual || @show_clear_button %>
        <div class="<%= @field_wrap_classes %> <% if leading_visual %>FormControl-fieldWrap--input-leadingVisual<% end %>">
            <%= leading_visual %>
            <%= render Primer::BaseComponent.new(tag: :input, placeholder: @placeholder, id: @input_id, name: @input_name, invalid: @invalid, disabled: @disabled, type: @type, classes: @form_control_classes, ariaLabelledBy: @caption_id) do %><% end %>
            <% if @show_clear_button %>
                <button id="<%= @input_id %>-clear" class="FormControl--input-trailingAction" aria-label="Clear" <%= @disabled %>><%= primer_octicon "x" %></button>
            <% end %>
        </div>
        <% if @validation_text %>
            <span class="FormControl-validation">
                <%= render(Primer::OcticonComponent.new(:"alert-fill", size: :xsmall)) %>
                <p id="<%= @validation_id %>"><%= @validation_text %></p>
            </span>
        <% end %>
        <% if @caption %>
            <p class="FormControl-caption" id="<%= @caption_id %>"><%= @caption %></p>
        <% end %>
    <% else %>
        <%= render Primer::BaseComponent.new(tag: :input, placeholder: @placeholder, id: @input_id, name: @input_name, disabled: @disabled, invalid: @invalid, type: @type, classes: @form_control_classes) do %><% end %>
        <% if @validation_text %>
            <span class="FormControl-validation">
                <%= render(Primer::OcticonComponent.new(:"alert-fill", size: :xsmall)) %>
                <p id="<%= @validation_id %>"><%= @validation_text %></p>
            </span>
        <% end %>
        <% if @caption %>
            <p class="FormControl-caption" id="<%= @caption_id %>"><%= @caption %></p>
        <% end %>
    <% end %>
<% end %>
